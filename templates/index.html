<!--
IMPORTANT
Sokrat changed this page, adding Jinja code
I moved the nav bar to base to make code cleaned in Flask
Use Flask to test your work, it works there
If you want to use the nav bar now,
use extends "base.html" at the beggining of the file (Jinja code)
or ask Sokrat, he will help
-->

{% extends "base.html" %} <!-- Nav Bar generation -->

{% block title %}Stickerdom{% endblock %} <!-- Title block -->

{% block content %} <!-- Here goes all the content of the page-->

  {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1050;">
          {% for category, message in messages %}
          <div
          class="alert alert-{{ 'success' if category=='success' else 'danger' if category=='error' else 'info' }} alert-dismissible fade show shadow-sm"
          role="alert">
            {{ message }}

            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>

          </div>
          {% endfor %}
          </div>
      {% endif %}
  {% endwith %}

<h1 class="welcome-heading">Welcome to Stickerdom!</h1>
<p>Your sticker shop is ready ðŸš€</p>

<div class="row">
  {% for sticker in stickers %}
  <div class="col-md-4 mb-4">
    <div class="card shadow h-100 card-hover-lift">
      <img src="{{url_for('static', filename='images/stickers/' ~ sticker.image_path)}}"
      class="card-img-top" alt="{{sticker.name}}" style="height:350px; object-fit:scale-down;">

      <div class="card-body">
        <h5 class="card-title">{{sticker.name}}</h5>
        <p class="card-text">â‚¬{{sticker.price}}</p>

       <form action="/add_to_cart" method="POST">
          <input type="hidden" name="sticker_id" value="{{ sticker.id }}">
          <button type="submit" class="btn btn-primary w-100">
            Add to cart
          </button>
        </form>
        
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}